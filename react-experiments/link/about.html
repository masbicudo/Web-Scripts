<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Link Component Experiment</title>

    <!-- Routing -->
    <script src="../../libs/masb.routing.js" type="text/javascript"></script>
    <script src="../../libs/masb.routing.mixins.js" type="text/javascript"></script>

    <!-- React.js -->
    <script src="../../packages/react-0.12.1/build/react.js"></script>
    <script src="../../packages/react-0.12.1/build/JSXTransformer.js"></script>
    <script src="../gearz.mixin.js"></script>
    <script src="link.jsx" type="text/jsx"></script>
    <script src="pages.jsx" type="text/jsx"></script>
</head>
<body>
<div id="output"></div>
<script type="text/jsx">
    window.stores = {};
    window.onpopstate = function(event) {
        if (event.state) {
            window.stores.viewData = event.state.viewData;
            var Component = window[event.state.pageComponent];
            if (Component){
                React.render(
                        <Component />,
                        document.getElementById("output")
                );
                return;
            }
        }
        render();
    };
    function render() {
        React.render(
                <AboutPage />,
                document.getElementById("output")
        );
    }
    render();
</script>
</body>
</html>
